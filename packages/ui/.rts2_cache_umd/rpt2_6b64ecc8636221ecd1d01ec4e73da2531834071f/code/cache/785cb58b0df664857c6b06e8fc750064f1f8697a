{"code":"import { Col, Row, Switch } from 'patternfly-react';\r\nimport * as React from 'react';\r\nimport { AutoSizer, CellMeasurer, CellMeasurerCache, List, } from 'react-virtualized';\r\nimport './LogViewer.css';\r\nexport class LogViewer extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            count: 0,\r\n            followScroll: true,\r\n            previousCount: 0,\r\n        };\r\n        this.renderRow = ({ index, style, parent }) => (React.createElement(CellMeasurer, { cache: this.cellMeasurerCache, columnIndex: 0, key: index, rowIndex: index, parent: parent },\r\n            React.createElement(\"div\", { className: 'LogViewerRow', style: style },\r\n                React.createElement(\"span\", { className: \"LogViewerRow_number\" }, index + 1),\r\n                React.createElement(\"span\", { className: \"LogViewerRow_content\" }, this.props.data[index]))));\r\n        this.toggleFollow = () => {\r\n            this.setState({\r\n                followScroll: !this.state.followScroll,\r\n            });\r\n        };\r\n        this.cellMeasurerCache = new CellMeasurerCache({\r\n            fixedWidth: true,\r\n            minHeight: 20,\r\n        });\r\n    }\r\n    static getDerivedStateFromProps({ data }, state) {\r\n        return {\r\n            ...state,\r\n            count: data.length,\r\n            previousCount: state.followScroll ? state.count : state.previousCount,\r\n        };\r\n    }\r\n    render() {\r\n        return (React.createElement(React.Fragment, null,\r\n            React.createElement(Row, { className: 'LogViewer' },\r\n                React.createElement(Col, { sm: 12 },\r\n                    React.createElement(AutoSizer, { disableHeight: !!this.props.height, disableWidth: !!this.props.width }, ({ width, height }) => (React.createElement(List, { deferredMeasurementCache: this.cellMeasurerCache, height: this.props.height || height, rowCount: this.props.data.length, rowHeight: this.cellMeasurerCache.rowHeight, rowRenderer: this.renderRow, scrollToLine: this.state.count, scrollToIndex: this.state.followScroll ? this.state.count - 1 : -1, width: this.props.width || width }))))),\r\n            React.createElement(Row, null,\r\n                React.createElement(Col, { sm: 12 },\r\n                    React.createElement(Switch, { id: 'toggle-follow', labelText: 'Follow logs', onChange: this.toggleFollow, value: this.state.followScroll })))));\r\n    }\r\n}\r\nLogViewer.defaultProps = {\r\n    height: 300,\r\n};\r\n//# sourceMappingURL=LogViewer.js.map","map":"{\"version\":3,\"file\":\"LogViewer.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/Shared/LogViewer.tsx\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/Users/mspaxman/code/workingrepos/seanforyou23-syndesis-react-poc/packages/ui/ui/src/Shared/LogViewer.d.ts","writeByteOrderMark":false,"text":"import * as React from 'react';\r\nimport { CellMeasurerCache, ListRowRenderer } from 'react-virtualized';\r\nimport './LogViewer.css';\r\nexport interface ILogViewerProps {\r\n    data: string[];\r\n    height?: number;\r\n    width?: null;\r\n}\r\nexport interface ILogViewerState {\r\n    count: number;\r\n    followScroll: boolean;\r\n    previousCount: number;\r\n}\r\nexport declare class LogViewer extends React.Component<ILogViewerProps, ILogViewerState> {\r\n    static defaultProps: {\r\n        height: number;\r\n    };\r\n    static getDerivedStateFromProps({ data }: ILogViewerProps, state: ILogViewerState): {\r\n        count: number;\r\n        previousCount: number;\r\n        followScroll: boolean;\r\n    };\r\n    state: {\r\n        count: number;\r\n        followScroll: boolean;\r\n        previousCount: number;\r\n    };\r\n    cellMeasurerCache: CellMeasurerCache;\r\n    constructor(props: ILogViewerProps);\r\n    render(): JSX.Element;\r\n    renderRow: ListRowRenderer;\r\n    toggleFollow: () => void;\r\n}\r\n"}}
