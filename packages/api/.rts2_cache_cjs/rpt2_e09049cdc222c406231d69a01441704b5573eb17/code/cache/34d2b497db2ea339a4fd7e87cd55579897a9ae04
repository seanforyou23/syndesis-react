{"code":"import * as React from 'react';\r\nexport class WithPolling extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.poller = this.poller.bind(this);\r\n    }\r\n    async componentDidMount() {\r\n        this.startPolling();\r\n    }\r\n    async componentWillUnmount() {\r\n        this.stopPolling();\r\n    }\r\n    render() {\r\n        return this.props.children();\r\n    }\r\n    poller() {\r\n        this.props.read();\r\n    }\r\n    setPoller(func) {\r\n        this.poller = func;\r\n    }\r\n    startPolling() {\r\n        this.stopPolling();\r\n        if (this.props.polling) {\r\n            this.pollingTimer = setInterval(this.poller, this.props.polling);\r\n        }\r\n    }\r\n    stopPolling() {\r\n        if (this.pollingTimer) {\r\n            clearInterval(this.pollingTimer);\r\n            this.pollingTimer = undefined;\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=WithPolling.js.map","map":"{\"version\":3,\"file\":\"WithPolling.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/WithPolling.tsx\"],\"names\":[],\"mappings\":\"AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAQ/B,MAAM,OAAO,WAAY,SAAQ,KAAK,CAAC,SAA4B;IAGjE,YAAmB,KAAwB;QACzC,KAAK,CAAC,KAAK,CAAC,CAAC;QACb,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACvC,CAAC;IAEM,KAAK,CAAC,iBAAiB;QAC5B,IAAI,CAAC,YAAY,EAAE,CAAC;IACtB,CAAC;IAEM,KAAK,CAAC,oBAAoB;QAC/B,IAAI,CAAC,WAAW,EAAE,CAAC;IACrB,CAAC;IAEM,MAAM;QACX,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;IAC/B,CAAC;IAEM,MAAM;QACX,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;IACpB,CAAC;IAEM,SAAS,CAAC,IAAgB;QAC/B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;IACrB,CAAC;IAEO,YAAY;QAClB,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE;YACtB,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAQ,CAAC;SACzE;IACH,CAAC;IAEO,WAAW;QACjB,IAAI,IAAI,CAAC,YAAY,EAAE;YACrB,aAAa,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YACjC,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC;SAC/B;IACH,CAAC;CACF\"}","dts":{"name":"/Users/mspaxman/code/workingrepos/seanforyou23-syndesis-react-poc/packages/api/api/src/WithPolling.d.ts","writeByteOrderMark":false,"text":"import * as React from 'react';\r\nexport interface IWithPollingProps {\r\n    polling: number;\r\n    read: () => void;\r\n    children(): any;\r\n}\r\nexport declare class WithPolling extends React.Component<IWithPollingProps> {\r\n    pollingTimer?: number;\r\n    constructor(props: IWithPollingProps);\r\n    componentDidMount(): Promise<void>;\r\n    componentWillUnmount(): Promise<void>;\r\n    render(): any;\r\n    poller(): void;\r\n    setPoller(func: () => void): void;\r\n    private startPolling;\r\n    private stopPolling;\r\n}\r\n"}}
