{"code":"import * as React from 'react';\r\nexport class WithChangeListener extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.changeListener = this.changeListener.bind(this);\r\n    }\r\n    render() {\r\n        return this.props.children();\r\n    }\r\n    async componentDidMount() {\r\n        this.props.registerChangeListener(this.changeListener);\r\n    }\r\n    async componentWillUnmount() {\r\n        this.props.unregisterChangeListener(this.changeListener);\r\n    }\r\n    changeListener(event) {\r\n        if (this.props.filter(event)) {\r\n            this.props.read();\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=WithChangeListener.js.map","map":"{\"version\":3,\"file\":\"WithChangeListener.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/WithChangeListener.tsx\"],\"names\":[],\"mappings\":\"AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAW/B,MAAM,OAAO,kBAAmB,SAAQ,KAAK,CAAC,SAE7C;IACC,YAAmB,KAA+B;QAChD,KAAK,CAAC,KAAK,CAAC,CAAC;QACb,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACvD,CAAC;IAEM,MAAM;QACX,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;IAC/B,CAAC;IAEM,KAAK,CAAC,iBAAiB;QAC5B,IAAI,CAAC,KAAK,CAAC,sBAAsB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;IACzD,CAAC;IAEM,KAAK,CAAC,oBAAoB;QAC/B,IAAI,CAAC,KAAK,CAAC,wBAAwB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;IAC3D,CAAC;IAEM,cAAc,CAAC,KAAmB;QACvC,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE;YAC5B,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;SACnB;IACH,CAAC;CACF\"}","dts":{"name":"/Users/mspaxman/code/workingrepos/seanforyou23-syndesis-react-poc/packages/api/api/src/WithChangeListener.d.ts","writeByteOrderMark":false,"text":"import * as React from 'react';\r\nimport { IChangeEvent } from './WithServerEvents';\r\nexport interface IWithChangeListenerProps {\r\n    filter: (change: IChangeEvent) => boolean;\r\n    read: () => void;\r\n    registerChangeListener: (listener: (event: IChangeEvent) => void) => void;\r\n    unregisterChangeListener: (listener: (event: IChangeEvent) => void) => void;\r\n    children(): any;\r\n}\r\nexport declare class WithChangeListener extends React.Component<IWithChangeListenerProps> {\r\n    constructor(props: IWithChangeListenerProps);\r\n    render(): any;\r\n    componentDidMount(): Promise<void>;\r\n    componentWillUnmount(): Promise<void>;\r\n    changeListener(event: IChangeEvent): void;\r\n}\r\n"}}
